import{J as N,r as c,R as e}from"./app-C-BDKEfE.js";import{d as m}from"./index-B3gxAEcO.js";import{U as h}from"./UserLayout-ChBHkO_K.js";const C=({applications:u=[],stats:x={}})=>{const{flash:l}=N().props,[a,n]=c.useState({id:null,job_title:"",status:"applied",notes:"",link:""}),[o,i]=c.useState(!1);c.useEffect(()=>{l!=null&&l.success&&(n({id:null,job_title:"",status:"applied",notes:"",link:""}),i(!1))},[l]);const r=t=>{n({...a,[t.target.name]:t.target.value})},b=t=>{t.preventDefault(),o&&a.id?m.Inertia.put(`/applications/${a.id}`,a):m.Inertia.post("/applications",a)},g=t=>{const s=u.find(d=>d.id===t);s&&(n({...s}),i(!0))},f=()=>{n({id:null,job_title:"",status:"applied",notes:"",link:""}),i(!1)},E=t=>{confirm("Are you sure you want to delete this application?")&&m.Inertia.delete(`/applications/${t}`)},p=[{value:"applied",label:"Applied"},{value:"replied",label:"Replied"},{value:"interview",label:"Interview"},{value:"final",label:"Final Round"},{value:"offer",label:"Offer"},{value:"rejected",label:"Rejected"}],y=t=>({applied:"bg-blue-100 text-blue-800",replied:"bg-yellow-100 text-yellow-800",interview:"bg-purple-100 text-purple-800",final:"bg-orange-100 text-orange-800",offer:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800";return e.createElement(h,null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-6"},"Job Application Dashboard"),(l==null?void 0:l.success)&&e.createElement("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"},l.success),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-6"},["applied","replied","interviews","final","offers"].map((t,s)=>e.createElement("div",{key:s,className:`aspect-square flex flex-col justify-center items-center rounded shadow bg-${t}-200 text-${t}-800`},e.createElement("div",{className:"text-3xl md:text-4xl font-extrabold"},x[t]||0),e.createElement("div",{className:"text-sm font-bold capitalize"},t)))),e.createElement("div",{className:"bg-white p-6 rounded-lg shadow mb-6"},e.createElement("form",{onSubmit:b,className:"space-y-4"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},e.createElement("input",{name:"job_title",value:a.job_title,onChange:r,placeholder:"Job Title",className:"border p-3 rounded-md",required:!0}),e.createElement("select",{name:"status",value:a.status,onChange:r,className:"border p-3 rounded-md"},p.map(t=>e.createElement("option",{key:t.value,value:t.value},t.label))),e.createElement("input",{name:"link",value:a.link,onChange:r,placeholder:"Job URL",className:"border p-3 rounded-md"}),e.createElement("input",{name:"notes",value:a.notes,onChange:r,placeholder:"Notes",className:"border p-3 rounded-md"})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-2 rounded"},o?"Update":"Add"," Application"),o&&e.createElement("button",{type:"button",onClick:f,className:"bg-gray-500 text-white px-6 py-2 rounded"},"Cancel")))),e.createElement("div",{className:"bg-white rounded-lg shadow overflow-hidden"},e.createElement("table",{className:"min-w-full"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500"},"Job Title"),e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500"},"Status"),e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500"},"Notes"),e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500"},"Link"),e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500"},"Actions"))),e.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},u.map(t=>{var s;return e.createElement("tr",{key:t.id,className:"hover:bg-gray-50"},e.createElement("td",{className:"px-6 py-4"},t.job_title),e.createElement("td",{className:"px-6 py-4"},e.createElement("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(t.status)}`},((s=p.find(d=>d.value===t.status))==null?void 0:s.label)||t.status)),e.createElement("td",{className:"px-6 py-4 max-w-xs truncate"},t.notes||"-"),e.createElement("td",{className:"px-6 py-4"},t.link?e.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800"},"View Job"):e.createElement("span",{className:"text-gray-400"},"-")),e.createElement("td",{className:"px-6 py-4 space-x-2"},e.createElement("button",{onClick:()=>g(t.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-xs"},"Edit"),e.createElement("button",{onClick:()=>E(t.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs"},"Delete")))})))))};export{C as default};
