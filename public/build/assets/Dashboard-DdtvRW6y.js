import{J as y,r as c,j as e}from"./app-DTGrxYXR.js";import{d as x}from"./index-P29661G6.js";import{U as N}from"./UserLayout-CEYafTiA.js";const k=({applications:u=[],stats:m={}})=>{const{flash:l}=y().props,[s,i]=c.useState({id:null,job_title:"",status:"applied",notes:"",link:""}),[d,r]=c.useState(!1);c.useEffect(()=>{l!=null&&l.success&&(i({id:null,job_title:"",status:"applied",notes:"",link:""}),r(!1))},[l]);const n=t=>{i({...s,[t.target.name]:t.target.value})},h=t=>{t.preventDefault(),d&&s.id?x.Inertia.put(`/applications/${s.id}`,s):x.Inertia.post("/applications",s)},b=t=>{const a=u.find(o=>o.id===t);a&&(i({...a}),r(!0))},g=()=>{i({id:null,job_title:"",status:"applied",notes:"",link:""}),r(!1)},f=t=>{confirm("Are you sure you want to delete this application?")&&x.Inertia.delete(`/applications/${t}`)},p=[{value:"applied",label:"Applied"},{value:"replied",label:"Replied"},{value:"interview",label:"Interview"},{value:"final",label:"Final Round"},{value:"offer",label:"Offer"},{value:"rejected",label:"Rejected"}],j=t=>({applied:"bg-blue-100 text-blue-800",replied:"bg-yellow-100 text-yellow-800",interview:"bg-purple-100 text-purple-800",final:"bg-orange-100 text-orange-800",offer:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800";return e.jsxs(N,{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Job Application Dashboard"}),(l==null?void 0:l.success)&&e.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:l.success}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:["applied","replied","interviews","final","offers"].map((t,a)=>e.jsxs("div",{className:`aspect-square flex flex-col justify-center items-center rounded shadow bg-${t}-200 text-${t}-800`,children:[e.jsx("div",{className:"text-3xl md:text-4xl font-extrabold",children:m[t]||0}),e.jsx("div",{className:"text-sm font-bold capitalize",children:t})]},a))}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("input",{name:"job_title",value:s.job_title,onChange:n,placeholder:"Job Title",className:"border p-3 rounded-md",required:!0}),e.jsx("select",{name:"status",value:s.status,onChange:n,className:"border p-3 rounded-md",children:p.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),e.jsx("input",{name:"link",value:s.link,onChange:n,placeholder:"Job URL",className:"border p-3 rounded-md"}),e.jsx("input",{name:"notes",value:s.notes,onChange:n,placeholder:"Notes",className:"border p-3 rounded-md"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-2 rounded",children:[d?"Update":"Add"," Application"]}),d&&e.jsx("button",{type:"button",onClick:g,className:"bg-gray-500 text-white px-6 py-2 rounded",children:"Cancel"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Job Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Notes"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Link"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(t=>{var a;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:t.job_title}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(t.status)}`,children:((a=p.find(o=>o.value===t.status))==null?void 0:a.label)||t.status})}),e.jsx("td",{className:"px-6 py-4 max-w-xs truncate",children:t.notes||"-"}),e.jsx("td",{className:"px-6 py-4",children:t.link?e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"View Job"}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsxs("td",{className:"px-6 py-4 space-x-2",children:[e.jsx("button",{onClick:()=>b(t.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-xs",children:"Edit"}),e.jsx("button",{onClick:()=>f(t.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs",children:"Delete"})]})]},t.id)})})]})})]})};export{k as default};
